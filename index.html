<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laboratory Information System Logic Model</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', 'Helvetica', sans-serif;
            background: #f8f9fa;
            padding: 15px;
            color: #2c3e50;
            overflow-x: auto;
        }
        
        .download-btn {
            position: fixed;
            top: 15px;
            right: 15px;
            background: #34495e;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 500;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 1000;
        }
        
        .download-btn:hover {
            background: #2c3e50;
        }
        
        .container {
            width: 1800px;
            height: 900px;
            margin: 0 auto;
            background: white;
            border: 1px solid #dee2e6;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: #34495e;
            color: white;
            padding: 15px 25px;
            height: 70px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .header h1 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .header p {
            font-size: 12px;
            opacity: 0.9;
        }
        
        .vision {
            background: #ecf0f1;
            padding: 12px 25px;
            height: 50px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #bdc3c7;
        }
        
        .vision h2 {
            color: #2c3e50;
            font-size: 13px;
            margin-right: 15px;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .vision p {
            color: #34495e;
            font-size: 11px;
            line-height: 1.3;
        }
        
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .logic-flow {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
            height: 400px;
            border-bottom: 2px solid #34495e;
        }
        
        .flow-section {
            border-right: 1px solid #dee2e6;
            display: flex;
            flex-direction: column;
        }
        
        .flow-section:last-child {
            border-right: none;
        }
        
        .flow-header {
            background: #f8f9fa;
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
            height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .flow-header h3 {
            font-size: 13px;
            font-weight: 700;
            color: #2c3e50;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 3px;
        }
        
        .flow-header .subtitle {
            font-size: 10px;
            color: #7f8c8d;
        }
        
        .flow-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }
        
        .flow-item {
            background: #f8f9fa;
            padding: 10px;
            margin-bottom: 8px;
            border: 1px solid #e9ecef;
            border-radius: 3px;
            font-size: 9px;
            line-height: 1.4;
            color: #495057;
        }
        
        .flow-item:last-child {
            margin-bottom: 0;
        }
        
        .flow-item strong {
            color: #2c3e50;
            display: block;
            margin-bottom: 5px;
            font-size: 10px;
        }
        
        .flow-item ul {
            margin: 0;
            padding-left: 12px;
            list-style-type: disc;
        }
        
        .flow-item li {
            margin-bottom: 3px;
            line-height: 1.3;
        }
        
        .flow-item li:last-child {
            margin-bottom: 0;
        }
        
        .outcomes-impact-section {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .outcomes-row {
            height: 200px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            border-bottom: 1px solid #dee2e6;
        }
        
        .outcome-column {
            border-right: 1px solid #dee2e6;
            display: flex;
            flex-direction: column;
        }
        
        .outcome-column:last-child {
            border-right: none;
        }
        
        .outcome-header {
            background: #34495e;
            color: white;
            padding: 10px;
            text-align: center;
            font-size: 12px;
            font-weight: 700;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .outcome-content {
            flex: 1;
            padding: 15px;
            background: white;
        }
        
        .outcome-item {
            background: #f8f9fa;
            padding: 8px 10px;
            margin-bottom: 8px;
            border: 1px solid #e9ecef;
            border-radius: 3px;
            font-size: 10px;
            line-height: 1.3;
            color: #495057;
        }
        
        .outcome-item:last-child {
            margin-bottom: 0;
        }
        
        .citation {
            font-size: 9px;
            color: #6c757d;
            font-style: italic;
            margin-top: 3px;
        }
        
        .impact-assumptions-row {
            height: 200px;
            display: grid;
            grid-template-columns: 1fr 1fr;
        }
        
        .impact-section {
            border-right: 1px solid #dee2e6;
            display: flex;
            flex-direction: column;
        }
        
        .assumptions-section {
            display: flex;
            flex-direction: column;
        }
        
        .section-header {
            background: #ecf0f1;
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #bdc3c7;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .section-header h3 {
            font-size: 12px;
            font-weight: 700;
            color: #2c3e50;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .section-content {
            flex: 1;
            padding: 15px;
            background: white;
        }
        
        .impact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            height: 100%;
        }
        
        .impact-item {
            background: #f8f9fa;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            font-size: 10px;
            line-height: 1.3;
            color: #495057;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .impact-item strong {
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .assumptions-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            height: 100%;
        }
        
        .assumption-item {
            background: #f8f9fa;
            padding: 8px;
            border: 1px solid #dee2e6;
            border-radius: 3px;
            display: flex;
            flex-direction: column;
        }
        
        .assumption-item h4 {
            font-size: 9px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
            text-transform: uppercase;
        }
        
        .assumption-item p {
            font-size: 9px;
            line-height: 1.3;
            color: #495057;
            flex: 1;
        }
        
        /* Flow arrows */
        .flow-arrows {
            position: absolute;
            top: 50%;
            right: -15px;
            transform: translateY(-50%);
            font-size: 20px;
            color: #7f8c8d;
        }
        
        .flow-section {
            position: relative;
        }
        
        .flow-section:not(:last-child)::after {
            content: '→';
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            color: #7f8c8d;
            z-index: 10;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .download-btn {
                display: none;
            }
            
            .container {
                box-shadow: none;
                border: none;
            }
        }
        
        @media (max-width: 1900px) {
            body {
                overflow-x: scroll;
            }
        }
    </style>
</head>
<body>
    <button class="download-btn" onclick="downloadImage()">📄 Download</button>
    
    <div class="container" id="logic-model-container">
        <div class="header">
            <h1>Laboratory Information System Implementation Logic Model</h1>
            <p>500-bed Teaching Hospital Digital Transformation Initiative</p>
        </div>
        
        <div class="vision">
            <h2>Vision:</h2>
            <p>To modernize laboratory operations through comprehensive LIS implementation, integrating test ordering, specimen tracking, result reporting, and workflow automation to reduce errors, decrease turnaround times, support hospital accreditation requirements, and ultimately enhance patient care delivery in our teaching hospital environment.</p>
        </div>
        
        <div class="main-content">
            <!-- Main Logic Flow -->
            <div class="logic-flow">
                <!-- INPUTS -->
                <div class="flow-section">
                    <div class="flow-header">
                        <h3>Inputs</h3>
                        <span class="subtitle">Resources Available</span>
                    </div>
                    <div class="flow-content">
                        <div class="flow-item">
                            <strong>Financial Resources</strong>
                            <ul>
                                <li>Software and hardware procurement costs</li>
                                <li>Training and implementation expenses</li>
                                <li>Ongoing maintenance and support costs</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>IT Infrastructure</strong>
                            <ul>
                                <li>Servers, networks, and workstations</li>
                                <li>EMR integration capabilities</li>
                                <li>Data storage and backup systems</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Human Resources</strong>
                            <ul>
                                <li>IT staff and laboratory personnel</li>
                                <li>Trainers and hospital administrators</li>
                                <li>Dedicated project manager</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Organizational Support</strong>
                            <ul>
                                <li>Leadership commitment and stakeholder buy-in</li>
                                <li>Established policies and procedures</li>
                                <li>Cross-departmental partnerships</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- ACTIVITIES -->
                <div class="flow-section">
                    <div class="flow-header">
                        <h3>Activities</h3>
                        <span class="subtitle">What We Do</span>
                    </div>
                    <div class="flow-content">
                        <div class="flow-item">
                            <strong>LIS Configuration & Integration</strong>
                            <ul>
                                <li>System installation and setup</li>
                                <li>Integration with hospital EMR systems</li>
                                <li>Interface development and testing</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Training & Assessment</strong>
                            <ul>
                                <li>Comprehensive staff training programs</li>
                                <li>Competency assessment protocols</li>
                                <li>User documentation and support materials</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Process Optimization</strong>
                            <ul>
                                <li>Implementation planning and workflow optimization</li>
                                <li>Process mapping and standardization</li>
                                <li>Change management activities</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Quality Assurance</strong>
                            <ul>
                                <li>System performance monitoring</li>
                                <li>Data migration and validation</li>
                                <li>Quality assurance setup and testing</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- OUTPUTS -->
                <div class="flow-section">
                    <div class="flow-header">
                        <h3>Outputs</h3>
                        <span class="subtitle">Direct Products</span>
                    </div>
                    <div class="flow-content">
                        <div class="flow-item">
                            <strong>Fully Operational LIS</strong>
                            <ul>
                                <li>Complete system with EMR integration capabilities</li>
                                <li>Automated laboratory workflows operational</li>
                                <li>Real-time data processing and reporting</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Trained Workforce</strong>
                            <ul>
                                <li>Staff proficient in new system operations</li>
                                <li>Competency validated across all user levels</li>
                                <li>Training documentation and protocols established</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Standardized Workflows</strong>
                            <ul>
                                <li>Automated processes for test ordering</li>
                                <li>Streamlined specimen tracking and reporting</li>
                                <li>Integrated quality control measures</li>
                            </ul>
                        </div>
                        <div class="flow-item">
                            <strong>Performance Metrics</strong>
                            <ul>
                                <li>Readily available audit trails</li>
                                <li>Baseline performance metrics established</li>
                                <li>Real-time monitoring capabilities</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- SHORT-TERM OUTCOMES -->
                <div class="flow-section">
                    <div class="flow-header">
                        <h3>Short-term</h3>
                        <span class="subtitle">3-6 months</span>
                    </div>
                    <div class="flow-content">
                        <div class="flow-item">
                            28% reduction in transcription errors
                            <div class="citation">(Antonio et al., 2024)</div>
                        </div>
                        <div class="flow-item">
                            Enhanced specimen tracking capabilities
                            <div class="citation">(Ligolab, 2025)</div>
                        </div>
                    </div>
                </div>
                
                <!-- MEDIUM-TERM OUTCOMES -->
                <div class="flow-section">
                    <div class="flow-header">
                        <h3>Medium-term</h3>
                        <span class="subtitle">6-18 months</span>
                    </div>
                    <div class="flow-content">
                        <div class="flow-item">
                            35% reduction in test turnaround times
                            <div class="citation">(Antonio et al., 2024)</div>
                        </div>
                        <div class="flow-item">
                            85-90% clinician satisfaction rate
                            <div class="citation">(Antonio et al., 2024)</div>
                        </div>
                    </div>
                </div>
                
                <!-- LONG-TERM OUTCOMES -->
                <div class="flow-section">
                    <div class="flow-header">
                        <h3>Long-term</h3>
                        <span class="subtitle">18+ months</span>
                    </div>
                    <div class="flow-content">
                        <div class="flow-item">
                            Improved patient outcomes through timely diagnosis and treatment
                            <div class="citation">(St John, A., 2020)</div>
                        </div>
                        <div class="flow-item">
                            Strengthened hospital accreditation readiness and compliance
                            <div class="citation">(Ligolab, 2025)</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Impact and Assumptions -->
            <div class="impact-assumptions-row">
                <div class="impact-section">
                    <div class="section-header">
                        <h3>Impact - Long-term Effects</h3>
                    </div>
                    <div class="section-content">
                        <div class="impact-grid">
                            <div class="impact-item">
                                <strong>Institutional Excellence</strong>
                                Enhanced quality and accreditation through data-driven decision making
                            </div>
                            <div class="impact-item">
                                <strong>Community Health</strong>
                                Improved population health outcomes in served community
                            </div>
                            <div class="impact-item">
                                <strong>Economic Efficiency</strong>
                                Reduced healthcare costs and improved resource utilization
                            </div>
                            <div class="impact-item">
                                <strong>Digital Leadership</strong>
                                Contribution to health system digital transformation
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="assumptions-section">
                    <div class="section-header">
                        <h3>Key Assumptions</h3>
                    </div>
                    <div class="section-content">
                        <div class="assumptions-grid">
                            <div class="assumption-item">
                                <h4>Technical Infrastructure</h4>
                                <p>Existing IT infrastructure has sufficient capacity for LIS integration and real-time data processing</p>
                            </div>
                            <div class="assumption-item">
                                <h4>Organizational Readiness</h4>
                                <p>Leadership maintains support and staff demonstrate readiness for technology adoption</p>
                            </div>
                            <div class="assumption-item">
                                <h4>Operational Continuity</h4>
                                <p>Patient care remains uninterrupted and quality standards maintained during transition</p>
                            </div>
                            <div class="assumption-item">
                                <h4>Vendor Support</h4>
                                <p>LIS vendor provides adequate technical support with stable regulatory requirements</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function downloadImage() {
            const button = document.querySelector('.download-btn');
            const originalText = button.innerHTML;
            
            button.innerHTML = '⏳ Gen...';
            button.disabled = true;
            
            try {
                const element = document.getElementById('logic-model-container');
                
                const canvas = await html2canvas(element, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    width: 1800,
                    height: 900
                });
                
                canvas.toBlob(function(blob) {
                    const link = document.createElement('a');
                    link.download = 'LIS_Logic_Model_Landscape_' + new Date().toISOString().split('T')[0] + '.png';
                    link.href = URL.createObjectURL(blob);
                    
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    
                    URL.revokeObjectURL(link.href);
                }, 'image/png', 1.0);
                
                button.innerHTML = '✅ Done!';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.disabled = false;
                }, 2000);
                
            } catch (error) {
                console.error('Error generating image:', error);
                button.innerHTML = '❌ Error';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.disabled = false;
                }, 2000);
            }
        }
    </script>
</body>
</html>